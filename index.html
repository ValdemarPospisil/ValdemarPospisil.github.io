<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valdemar | Portfolio</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: black;
            margin: 0;
            overflow: hidden;
            color: white;
            font-family: Arial, sans-serif;
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
        }

        .content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 10vh auto;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            backdrop-filter: blur(10px);
            text-align: center;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: bold;
        }

        a {
            color: #00bcd4;
            text-decoration: none;
            font-weight: bold;
        }

        a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>

    <canvas id="gridCanvas"></canvas>

    <div class="content">
        <h1>Valdemar Pospíšil</h1>
        <p>Programátor se zájmem o Unity, databáze a procedurální generování.</p>
        <p><a href="https://github.com/ValdemarPospisil" target="_blank">GitHub</a> | <a href="#">LinkedIn</a></p>
    </div>

    <script>
        const canvas = document.getElementById("gridCanvas");
        const ctx = canvas.getContext("2d");

        const cols = 100;
        const rows = 60;
        let grid = createGrid(cols, rows);

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        const cellSize = Math.min(canvas.width / cols, canvas.height / rows);

        const patterns = {
            glider: [
                [1, 1, 1],
                [1, 0, 0],
                [0, 1, 0],
            ],
            canoe: [
                [0, 1, 0],
                [1, 0, 1],
                [0, 1, 0]
            ],
            cloverleaf: [
                [0, 1, 0, 1, 0],
                [1, 0, 1, 0, 1],
                [0, 1, 0, 1, 0]
            ],
            hammerhead: [
                [1, 1, 0, 0, 0, 1, 1],
                [1, 0, 0, 0, 0, 0, 1],
                [0, 0, 0, 1, 0, 0, 0],
                [1, 0, 0, 0, 0, 0, 1],
                [1, 1, 0, 0, 0, 1, 1]
            ],
            toad: [
            [0, 0, 1, 0],
            [1, 0, 0, 1],
            [1, 0, 0, 1],
            [0, 1, 0, 0]
          ]
        };

        function createGrid(cols, rows) {
            let newGrid = Array.from({ length: cols }, () => Array(rows).fill(0));

            let patternKeys = Object.keys(patterns);
            for (let i = 0; i < 10; i++) { // Umístíme 10 náhodných patternů
                let pattern = patterns[patternKeys[Math.floor(Math.random() * patternKeys.length)]];
                let x = Math.floor(Math.random() * (cols - pattern.length));
                let y = Math.floor(Math.random() * (rows - pattern[0].length));

                for (let px = 0; px < pattern.length; px++) {
                    for (let py = 0; py < pattern[0].length; py++) {
                        newGrid[x + px][y + py] = pattern[px][py];
                    }
                }
            }
            return newGrid;
        }

        function drawGrid() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "white";

            for (let x = 0; x < cols; x++) {
                for (let y = 0; y < rows; y++) {
                    if (grid[x][y]) {
                        ctx.fillRect(x * cellSize, y * cellSize, cellSize, cellSize);
                    }
                }
            }
        }

        function updateGrid() {
            let newGrid = grid.map(arr => [...arr]);

            for (let x = 0; x < cols; x++) {
                for (let y = 0; y < rows; y++) {
                    let neighbors = countNeighbors(x, y);
                    if (grid[x][y] === 1 && (neighbors < 2 || neighbors > 3)) {
                        newGrid[x][y] = 0;
                    } else if (grid[x][y] === 0 && neighbors === 3) {
                        newGrid[x][y] = 1;
                    }
                }
            }

            grid = newGrid;
        }

        function countNeighbors(x, y) {
            let sum = 0;
            for (let dx = -1; dx <= 1; dx++) {
                for (let dy = -1; dy <= 1; dy++) {
                    if (dx === 0 && dy === 0) continue;
                    let nx = (x + dx + cols) % cols;
                    let ny = (y + dy + rows) % rows;
                    sum += grid[nx][ny];
                }
            }
            return sum;
        }

        function gameLoop() {
            updateGrid();
            drawGrid();
            setTimeout(() => requestAnimationFrame(gameLoop), 150);
        }

        gameLoop();
    </script>

</body>
</html>
